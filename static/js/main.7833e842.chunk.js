(this["webpackJsonpcsw-assessment"]=this["webpackJsonpcsw-assessment"]||[]).push([[0],{137:function(e,t,n){"use strict";n.r(t);var s,c,a=n(1),i=n.n(a),o=n(27),l=n.n(o),r=(n(69),n(30)),j=(n.p,n(70),n(29)),d=n.n(j),b=n(5),u=n(2),m=n(20),O={isAuthenticated:!1,userName:"",name:"",email:"",image:"",googleId:"",remainingTime:void 0},h=Object(m.b)({name:"authentication",initialState:O,reducers:{login:function(e,t){e.isAuthenticated=!0,e.email=t.payload.email,e.userName=t.payload.userName,e.name=t.payload.fullName,e.googleId=t.payload.googleId,e.image=t.payload.image,e.remainingTime=new Date((new Date).getTime()+6e4).getTime(),localStorage.setItem("googleId",t.payload.googleId)},logout:function(e){console.log(" in auth logout"),e.isAuthenticated=!1,e.email="",e.userName="",e.name="",e.googleId="",e.image="",e.remainingTime=void 0,localStorage.removeItem("googleId")},setRemainingTime:function(e,t){console.log("setRemainingTime"),e.remainingTime=new Date((new Date).getTime()+6e4).getTime()}}}),g=h.actions,f=h.reducer,x=n(61),p=n.n(x),v=n(0),_=function(){var e=Object(u.g)(),t=Object(b.b)();return Object(v.jsx)("div",{className:p.a.loginContainer,children:Object(v.jsx)(d.a,{clientId:"833252779430-ui4ja8b6vi4nhdqml6mcgr7ub1fvfrs0.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(n){console.log("login success",n.profileObj);var s=n.profileObj;t(g.login({userName:s.givenName,fullName:s.name,email:s.email,image:s.imageUrl,googleId:s.googleId})),e.replace("/userInfo")},onFailure:function(e){console.log("login failure",e)},cookiePolicy:"single_host_origin"})})},I=n(62),N=n.n(I),C=function(e){var t=Object(u.g)(),n=Object(b.b)();return Object(v.jsx)("div",{className:N.a.logoutCont,children:Object(v.jsx)(d.a,{clientId:"833252779430-ui4ja8b6vi4nhdqml6mcgr7ub1fvfrs0.apps.googleusercontent.com",buttonText:"Logout",onSuccess:function(){console.log("logout success"),e.setLogoutDisp(!1),n(g.logout()),t.replace("/login")}})})},U=n(24),D=n(15),T=n.n(D),y=function(){var e=Object(b.c)((function(e){return e.auth.name})),t=Object(b.c)((function(e){return e.auth.email})),n=Object(b.c)((function(e){return e.auth.googleId})),s=Object(b.c)((function(e){return e.auth.image}));return Object(v.jsx)("div",{className:T.a.userInfoCont,children:Object(v.jsxs)("div",{className:T.a.userInfo,children:[Object(v.jsx)("div",{className:T.a.UserInfoDet,children:Object(v.jsx)("b",{children:"User Info"})}),Object(v.jsxs)("div",{className:T.a.UserInfoDet,children:["Name: ",e]}),Object(v.jsxs)("div",{className:T.a.UserInfoDet,children:["Email: ",t]}),Object(v.jsxs)("div",{className:T.a.UserInfoDet,children:["Google Id:",n]}),Object(v.jsxs)("div",{className:T.a.UserInfoDetImg,children:[Object(v.jsx)("div",{children:"User Image:"}),Object(v.jsx)("img",{className:T.a.img,src:s})]})]})})},w=n(41),L=n.n(w),k=n(63),S=(n(78),n(64)),R=Object(m.b)({name:"test",initialState:{users:[],currentUser:{}},reducers:{getUsers:function(e,t){e.users=t.payload,console.log(e.users)},getUser:function(e,t){e.currentUser=Object(S.a)({},e.users[t.payload-1])}}}),V=R.actions,A=R.reducer,E=n(8),z=n.n(E),F=function(e){var t=Object(b.b)(),n=Object(b.c)((function(e){return e.users.users}))||[],s=Object(u.g)();return console.log(n),Object(a.useEffect)((function(){(function(){var e=Object(k.a)(L.a.mark((function e(){var n,s;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonplaceholder.typicode.com/users");case 2:return(n=e.sent).ok||console.log("error"),e.next=6,n.json();case 6:s=e.sent,console.log(s),t(V.getUsers(s));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(v.jsx)("div",{className:z.a.tableCont,children:Object(v.jsxs)("div",{className:z.a.tabledisp,children:[Object(v.jsx)("div",{style:{padding:"0 0 20px",fontSize:"25px"},children:Object(v.jsx)("b",{children:"Users from jsonplaceholder"})}),Object(v.jsxs)("table",{className:z.a.table,children:[Object(v.jsxs)("tr",{className:z.a.tableRows,children:[Object(v.jsx)("th",{children:Object(v.jsx)("div",{className:z.a.idCol,children:"Id"})}),Object(v.jsx)("th",{children:Object(v.jsx)("div",{className:z.a.nameCol,children:"Name"})}),Object(v.jsx)("th",{children:Object(v.jsx)("div",{className:z.a.emailCol,children:"Email"})}),Object(v.jsx)("th",{children:Object(v.jsx)("div",{className:z.a.clickCol,children:"Details"})})]}),n&&n.map((function(e){return Object(v.jsx)(i.a.Fragment,{children:Object(v.jsxs)("tr",{className:z.a.tableRows,children:[Object(v.jsx)("td",{children:Object(v.jsx)("div",{className:z.a.idCol,children:e.id})}),Object(v.jsx)("td",{children:Object(v.jsx)("div",{className:z.a.nameCol,children:e.name})}),Object(v.jsx)("td",{children:Object(v.jsx)("div",{className:z.a.emailCol,children:e.company.name})}),Object(v.jsx)("td",{onClick:function(){t(V.getUser(e.id)),s.push("/table/".concat(e.id))},children:Object(v.jsx)("div",{className:z.a.clickCol,children:"click here"})})]})},e.id)}))]})]})})},q=n(4),H=n.n(q),J=function(){var e=Object(b.c)((function(e){return e.users.currentUser}));Object(u.h)();return console.log(e),Object(v.jsx)("div",{className:H.a.userInfoCont1,children:Object(v.jsxs)("div",{className:H.a.userInfo1,children:[Object(v.jsxs)("div",{className:H.a.UserInfoDet1,children:[Object(v.jsxs)("b",{children:["Details of user with id : ",e.id]})," "]}),Object(v.jsxs)("div",{className:H.a.UserInfoDet1,children:[Object(v.jsx)("div",{className:H.a.infoLabel1,children:"Name: "}),Object(v.jsx)("div",{className:H.a.infoVal1,children:e.name})]}),Object(v.jsxs)("div",{className:H.a.UserInfoDet1,children:[Object(v.jsx)("div",{className:H.a.infoLabel1,children:"Email: "}),Object(v.jsx)("div",{className:H.a.infoVal1,children:e.email})]}),Object(v.jsxs)("div",{className:H.a.UserInfoDet1,children:[Object(v.jsx)("div",{className:H.a.infoLabel1,children:"phone:"}),Object(v.jsx)("div",{className:H.a.infoVal1,children:e.phone})]}),Object(v.jsxs)("div",{className:H.a.UserInfoDet1,children:[Object(v.jsx)("div",{className:H.a.infoLabel1,children:"Website:"}),Object(v.jsx)("div",{className:H.a.infoVal1,children:e.website})]}),Object(v.jsxs)("div",{className:H.a.UserInfoDet1,children:[Object(v.jsx)("div",{className:H.a.infoLabel1,children:"Company:"}),Object(v.jsx)("div",{className:H.a.infoVal1,children:e.company.name})]}),Object(v.jsxs)("div",{className:H.a.UserInfoDet1,children:[Object(v.jsx)("div",{className:H.a.infoLabel1,children:"City:"}),Object(v.jsx)("div",{className:H.a.infoVal1,children:e.address.city})]})]})})},P=function(e){return Object(v.jsx)("div",{className:"centered",children:Object(v.jsx)("p",{children:"Page not found"})})};var Y=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.auth.isAuthenticated})),n=Object(b.c)((function(e){return e.auth.userName})),o=Object(b.c)((function(e){return e.auth.remainingTime})),l=Object(a.useState)(!1),j=Object(r.a)(l,2),d=j[0],m=j[1],O=Object(a.useState)(!1),h=Object(r.a)(O,2),f=h[0],x=h[1],p=Object(a.useState)(!1),I=Object(r.a)(p,2),N=I[0];I[1],Object(a.useEffect)((function(){console.log("logged in",t),console.log("logoutDisp",d),console.log("timeRemaining",o),c&&(console.log(" in clear confirmTime"),clearTimeout(c)),s&&(console.log(" in clear logutTimer"),clearTimeout(s)),t&&(console.log("in useeffect"),s=setTimeout(D,6e4))}),[o]);var D=function(){console.log("in logOutHander"),x(!0),c=setTimeout((function(){console.log("in logOutHander timer"),console.log("in setGotResp",N),N||(x(!1),e(g.logout()))}),6e4),s&&clearTimeout(s)};return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsxs)("div",{className:"App-header",children:[!t&&Object(v.jsx)(i.a.Fragment,{children:"Login"}),t&&Object(v.jsxs)(i.a.Fragment,{children:[Object(v.jsxs)("div",{className:"routes",children:[Object(v.jsx)("div",{children:Object(v.jsx)(U.b,{className:"route",activeClassName:"activeRoute",to:"/userInfo",children:"UserInfo"})}),Object(v.jsx)("div",{children:Object(v.jsx)(U.b,{className:"route",activeClassName:"activeRoute",to:"/table",children:"Table"})})]}),Object(v.jsx)("div",{onClick:function(){m((function(e){return!e}))},children:n})]})]}),Object(v.jsx)("div",{className:"App-body",children:Object(v.jsxs)(u.d,{children:[Object(v.jsxs)(u.b,{path:"/",exact:!0,children:[!t&&Object(v.jsx)(u.a,{to:"/login"}),t&&Object(v.jsx)(u.a,{to:"/userInfo"})]}),!t&&Object(v.jsx)(u.b,{path:"/login",exact:!0,children:Object(v.jsx)(_,{})}),t&&Object(v.jsxs)(i.a.Fragment,{children:[Object(v.jsx)(u.b,{path:"/userInfo",exact:!0,children:Object(v.jsx)(y,{})}),Object(v.jsx)(u.b,{path:"/table",exact:!0,children:Object(v.jsx)(F,{})}),Object(v.jsx)(u.b,{path:"/table/:Id",children:Object(v.jsx)(J,{})})]}),t?Object(v.jsx)(u.b,{path:"*",children:Object(v.jsx)(P,{})}):Object(v.jsx)(u.b,{path:"*",children:Object(v.jsx)(u.a,{to:"/login"})})]})}),d&&Object(v.jsx)("div",{children:Object(v.jsx)(C,{setLogoutDisp:m})}),f&&Object(v.jsx)("div",{className:"backdrop",children:Object(v.jsxs)("div",{className:"layout",children:[Object(v.jsx)("div",{style:{fontSize:"30px",padding:" 15px 15px 10px"},children:"Do want to continue?"}),Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",padding:" 15px"},children:[Object(v.jsx)("div",{children:Object(v.jsx)("button",{onClick:function(){x(!1),e(g.setRemainingTime(60))},style:{fontSize:"20px"},children:" Continue"})}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{onClick:function(){x(!1),e(g.logout())},style:{fontSize:"20px"},children:"Cancel"})})]})]})})]})},B=Object(m.a)({reducer:{auth:f,users:A}});l.a.render(Object(v.jsx)(b.a,{store:B,children:Object(v.jsx)(U.a,{children:Object(v.jsx)(Y,{})})}),document.getElementById("root"))},15:function(e,t,n){e.exports={userInfoCont:"UserInfo_userInfoCont__1y1M_",UserInfoDet:"UserInfo_UserInfoDet__3aP1O",userInfo:"UserInfo_userInfo__3BbVs",UserInfoDetImg:"UserInfo_UserInfoDetImg__1gyRo",img:"UserInfo_img__3z6_F"}},4:function(e,t,n){e.exports={userInfoCont1:"User_userInfoCont1__1D8Qq",userInfo1:"User_userInfo1__3eAoD",UserInfoDet1:"User_UserInfoDet1__1o8X8",infoLabel1:"User_infoLabel1__2b5Yj",infoVal1:"User_infoVal1__M47hU",UserInfoDetImg1:"User_UserInfoDetImg1__2SY5W",img1:"User_img1__1Ju0i"}},61:function(e,t,n){e.exports={loginContainer:"Login_loginContainer__2EbQh"}},62:function(e,t,n){e.exports={logoutCont:"Logout_logoutCont__1uqsw"}},69:function(e,t,n){},70:function(e,t,n){},8:function(e,t,n){e.exports={tableCont:"TableComp_tableCont__3AEzn",tabledisp:"TableComp_tabledisp__1hJv1",nameCol:"TableComp_nameCol__2nH6I",idCol:"TableComp_idCol__3q4La",emailCol:"TableComp_emailCol__1hOf6",clickCol:"TableComp_clickCol__HLTxg",table:"TableComp_table__LrxVC",tableRows:"TableComp_tableRows__2tRgY"}}},[[137,1,2]]]);
//# sourceMappingURL=main.7833e842.chunk.js.map